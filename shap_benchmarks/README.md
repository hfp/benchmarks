# [SHAP](https://arxiv.org/abs/1705.07874) values comparison

1. Experiment infrastructure: 

	* GPU: Titan X Pascal
	* Intel(R) Xeon(R) CPU E5-2683 v3 @ 2.00GHz

	We trained and evaluated perfomance on GPU.

2. Parameters

	We run experiments on different depths and test size for each 	library. ``max bin`` parameter was set up to 128 and 	other parameters were default for every library.
	
3. Dataset

	We used [Epsilon dataset](https://www.csie.ntu.edu.tw/~cjlin/libsvmtools/datasets/binary.html) (400Ðš samples| 2000 features) to benchmark our performance on dense numerical dataset. We compared speed of shap values calculation on 10k samples from test. 
	
		
4. Results

Time in table is given in seconds and we didn't take into account time for data preprocessing.


test_size|depth|catboost|lightgbm|xgboost|
:--------|:----|:-------|:-------|:------|
1000|2|0.46|0.08|0.09|
1000|4|0.33|0.70|0.32
1000|6|**0.81**|6.09|2.14
1000|8|**8.06**|35.64|13.52
1000|10|136.61|183.83|52.08
2000|2|0.50|0.20|0.16
2000|4|**0.42**|1.59|0.65
2000|6|**0.73**|14.73|4.53
2000|8|**5.33**|74.18|26.10
2000|10|160.93|390.40|104.05
3000|2|0.84|0.22|0.22
3000|4|**0.75**|1.81|1.03
3000|6|**1.16**|18.38|6.59
3000|8|**8.47**|109.72|37.57
3000|10|161.76|542.84|150.29
4000|2|1.13|0.24|0.27
4000|4|**1.06**|2.61|1.29
4000|6|**1.37**|24.90|8.72
4000|8|**8.94**|143.65|48.19
4000|10|**163.78**|721.30|199.10
5000|2|1.12|0.32|0.32
5000|4|**1.11**|3.33|1.62
5000|6|**1.66**|31.31|11.52
5000|8|**8.95**|194.16|64.87
5000|10|**162.45**|796.44|241.24
6000|2|1.40|0.46|0.42
6000|4|**1.31**|4.026|2.00
6000|6|**1.82**|40.14|13.62
6000|8|**9.22**|209.50|77.80
6000|10|**162.59**|1076.09|312.06
7000|2|1.59|0.54|0.43
7000|4|**1.69**|4.66|2.13
7000|6|**2.21**|43.04|15.55
7000|8|**9.27**|252.12|94.71
7000|10|**160.62**|1164.89|356.50
8000|2|1.92|0.50|0.465
8000|4|**1.88**|5.32|2.41
8000|6|**2.45**|53.14|17.02
8000|8|**9.95**|288.68|101.26
8000|10|**164.19**|1355.68|388.98
9000|2|2.298|0.564|0.50
9000|4|**2.34**|5.60|2.67
9000|6|**2.73**|55.98|19.97
9000|8|**10.15**|373.07|117.17
9000|10|**163.79**|1619.72|486.67
10000|2|2.38|0.626|0.57
10000|4|**2.49**|6.32|3.056
10000|6|**3.21**|63.70|21.65
10000|8|**10.29**|328.53|129.46
10000|10|**136.06**|1726.04|491.27


